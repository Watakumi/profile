---
import Layout from "../layouts/Layout.astro";
import Hero from "../components/Hero.astro";
import Language from "../components/Language.astro";
import Links from "../components/Links.astro";
import Projects from "../components/Projects.astro";
import Footer from "../components/Footer.astro";

const response = await fetch("https://watakumi-hono-deno.deno.dev/myprofile");
const data = await response.json();

const languages = data.languages;
const projects = data.projects;
const links = data.links;
---

<Layout title='Welcome to Watakumi Page.'>
  <main>
    <Hero />
    <Language skills={languages.skills} uses={languages.uses} />
    <Links links={links} />
    <Projects projects={projects} />
  </main>
  <Footer />
</Layout>

<style>
  main {
    margin: auto;
    padding: 1.5rem;
    max-width: 60ch;
  }
</style>
